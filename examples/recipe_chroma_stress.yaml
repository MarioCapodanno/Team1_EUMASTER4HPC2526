# =============================================================================
# ChromaDB Stress Test Recipe (Simplified)
# =============================================================================
# Vector insert and similarity search benchmark.
# =============================================================================

configuration:
  target: "meluxina"

# =============================================================================
# Service: ChromaDB Vector Database
# =============================================================================
service:
  type: "chroma"
  name: "chroma-stress"
  partition: "cpu"
  num_gpus: 0
  time_limit: "04:00:00"
  
  settings:
    host: "0.0.0.0"
    port: 8000

# =============================================================================
# Client: Stress Test
# =============================================================================
client:
  type: "chroma_stress"
  partition: "cpu"
  num_gpus: 0
  time_limit: "02:00:00"
  
  settings:
    num_vectors: 100            # Number of vectors to insert (curl-based, keep small)
    dim: 64                     # Vector dimension
    num_queries: 50             # Number of similarity queries
    top_k: 5                    # Top-K results per query
    warmup_delay: 5             # Seconds to wait before starting

# =============================================================================
# Benchmark Configuration
# =============================================================================
benchmarks:
  num_clients: 4
  metrics: ["insert_vps", "query_qps"]
